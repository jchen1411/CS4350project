package PomonaTransitSystem;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.ResultSet;
import java.sql.Statement;


public class PomonaTransitSystem {
    public static void main(String[] args) {
        System.out.println("Connecting to MS Access database...");

        // Check connectivity
        if (DatabaseConnectivity.checkConnection()) {
            System.out.println("Connection successful.");
            // Display table contents
            DatabaseUtility.displayTableContents("pomonaTransitSystem.accdb");  
        } else {
            System.out.println("Failed to connect to the database.");
        }
    }

    // Inner class for checking database connectivity
    static class DatabaseConnectivity {
        private static final String DATABASE_URL = "jdbc:ucanaccess://pomonaTransitSystem.accdb";

        public static boolean checkConnection() {
            try (Connection connection = DriverManager.getConnection(DATABASE_URL)) {
                return connection != null;
            } catch (SQLException e) {
                e.printStackTrace();
                return false;
            }
        }
    }

    // Inner class for database utility functions
    static class DatabaseUtility {
        private static final String DATABASE_URL = "jdbc:ucanaccess://pomonaTransitSystem.accdb";

        public static void displayTableContents(String tableName) {
            try (Connection connection = DriverManager.getConnection(DATABASE_URL);
                 Statement statement = connection.createStatement();
                 ResultSet resultSet = statement.executeQuery("SELECT * FROM " + tableName)) {

                while (resultSet.next()) {
                    // Replace Column1, Column2, etc., with actual column names
                    int id = resultSet.getInt("Column1");
                    String name = resultSet.getString("Column2");
                    // Add more columns as needed

                    // Print the data
                    System.out.println("ID: " + id + ", Name: " + name);
                    // Add more columns as needed
                }

            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
    }
}